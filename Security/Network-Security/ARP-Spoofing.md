## ARP Spoofing

### ARP 프로토콜 (주소변환 프로토콜, *Address Resolution Protocol*)
IP 프로세스는 물리적 주소 MAC 주소를 모르기 때문에, 최종 수신지 호스트까지 신호를 전송하려면 수신지 IP 주소에 대응하는 LAN카드의 MAC주소를 알아야 한다. 이때 논리적 주소 IP 주소를 물리 주소인 MAC 주소로 매핑하는 것이 주소 변환 프로토콜 ARP이다. 

> `arp -a` : 모든 ARP 테이블을 확인하는 명령어

- **IP 주소와 MAC 주소 매핑(네트워크 계층부터~)** <br>
A 호스트 → C 호스트로 신호를 전송한다고 가정 <br>
① A 호스트는 응용 프로그램에서 메시지를 작성하고 **C 호스트의 IP주소를 입력**한다. <br>
② ARP는 **C 호스트**의 IP 주소에 해당하는 **MAC 주소**를 알아내기 위해 ARP 캐시(ARP 테이블)에 해당 정보가 들어 있는지 확인하고, 정보가 있으면 메시지를 전송한다. <br>
③ 해당 MAC 주소가 없으면, **연결된 모든 호스트 PC로 ARP 요청(브로드캐스트) 신호를 전송**하며, 이때 **<span style="color:red">ARP 요청 신호</span>에 A 호스트는 자신의 MAC주소와 수신지 IP주소를 포함**한다. <br>
④ ARP 요청 신호를 모든 호스트 PC가 수신한다. <br>
⑤ C 호스트는 요청 신호의 IP주소가 자신의 것이므로 **자신의 MAC 주소를 <span style="color:red">ARP 응답 신호</span>(유니캐스트)로 A 호스트에 전송**한다. <br>
⑥ 다른 호스트 PC들은 요청한 주소에 해당하는 MAC주소에 대응되지 않아 응답하지 못하고, A 호스트 PC는 **C호스트 PC의 MAC 주소를 자신의 ARP 캐시에 저장**한다.
